import o from"node:fs/promises";import r from"node:path";const t={prefix:"@",root:"src"};function e(e=t){const{prefix:n,root:s}=e;return{name:"vite-plugin-aliases",async config(){const t=await async function(t){t=r.resolve(process.cwd(),t);const e=await o.readdir(t),n={};for(const s of e){(await o.stat(`${t}/${s}`)).isDirectory()&&(n[s]=r.join(t,s))}return n}(s),e=function(o,r){const t=Object.entries(r).map((([r,t])=>({[`${o}${r}`]:t})));return t.reduce(((o,r)=>({...o,...r})),{})}(n,t);return{resolve:{alias:e}}}}}export{e as default};
